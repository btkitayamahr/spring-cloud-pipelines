node {
	stage('git pull') {
		deleteDir()
		sh 'git config --global http.sslVerify false'
		checkout([
			$class: 'GitSCM',
			branches: [[name: '*/${APP_BRANCH}']],
			doGenerateSubmoduleConfigurations: false,
			extensions: [],
			submoduleCfg: [],
			userRemoteConfigs: [
				[
					credentialsId: 'git-gitbucket',
					url: '${APP_REPOSITORY}'
				]
			]
		])
	}
	stage('build') {
		dir("${WORKSPACE}/frontend") {
			withMaven( maven: "Maven") {
				sh 'mvn clean install'
			}
		}
	}
}